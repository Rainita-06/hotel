{% extends "dashboard/main_dashboard.html" %} {% block dashboard_content %}
<div class="bg-white shadow rounded p-6">
  <h2 class="text-2xl font-bold mb-4">📑 Voucher Report</h2>

  <div class="overflow-x-auto">
    <table class="table-auto w-full border-collapse border border-gray-200">
      <thead>
        <tr class="bg-gray-100 text-left">
          <th class="px-4 py-2 border">Guest</th>
          <th class="px-4 py-2 border">Room</th>
          <th class="px-4 py-2 border">Issued</th>
          <th class="px-4 py-2 border">Redeemed</th>
          <th class="px-4 py-2 border">Status</th>
        </tr>
      </thead>
      <tbody>
        {% for v in vouchers %}
        <tr class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ v.guest.name }}</td>
          <td class="px-4 py-2 border">{{ v.guest.room_number }}</td>
          <td class="px-4 py-2 border">
            {{ v.valid_from }} → {{ v.valid_to }}
          </td>
          <td class="px-4 py-2 border">{{ v.redeemed_on|default:"-" }}</td>
          <td class="px-4 py-2 border">
            {% if v.is_valid %} ✅ Valid {% else %} ❌ Used/Expired {% endif %}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center p-4 text-gray-500">
            No vouchers found
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
